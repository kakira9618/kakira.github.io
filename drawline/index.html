<!DOCTYPE html>
<html><head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
<script>WebSite={runType:'singleHTML', useEditButton:false};</script><script src="https://edit.tonyu.jp/images/base.png.js"></script>
<script src="https://edit.tonyu.jp/images/Sample.png.js"></script>
<script src="https://edit.tonyu.jp/images/neko.png.js"></script>
<script src="https://edit.tonyu.jp/images/mapchip.png.js"></script>
<script src="https://edit.tonyu.jp/images/inputPad.png.js"></script>
<script src="https://edit.tonyu.jp/js/lib/jquery-1.10.1.js" type="text/javascript"></script>
<script src="https://edit.tonyu.jp/js/g2/runScript_concat.min.js" type="text/javascript"></script>
<script src="https://edit.tonyu.jp/js/runtime/detectUnsupported.js"></script><script language='text/tonyu' type='text/tonyu' data-filename='Main.tonyu' data-lastupdate='1621513129919' >time = 0;
r = 100;
p = 0.5;
ang = 0;
t_ang = 0;
while(1) {
    if (getkey(1) == 1 || $touches[0].touched == 1) {
        t_ang += 180;
    }
    ang = 0.95 * ang + 0.05 * t_ang;
    
    for(i = 0; i < 4; i++) {
        t = (i * 90) + time;
        if (i % 2 == 0) s = 1; else s = -1;
        drawTriangle($mouseX + r * cos(t), $mouseY + p * r * sin(t), $mouseX + r * cos(t + 90), $mouseY + p * r * sin(t + 90), $mouseX, $mouseY + s * r, ang);
    }
    
    drawText(0, 0, "Click / Tap to transform", color(255, 255, 255), 20);
    time++;
    update();
}

function drawTriangle(ax, ay, bx, by, cx, cy, angle) {
    gx = (ax + bx + cx) / 3;
    gy = (ay + by + cy) / 3;
    
    pa = rotate(ax, ay, gx, gy, angle);
    pb = rotate(bx, by, gx, gy, angle);
    pc = rotate(cx, cy, gx, gy, angle);
    
    drawLine(pa.x, pa.y, pb.x, pb.y);
    drawLine(pb.x, pb.y, pc.x, pc.y);
    drawLine(pc.x, pc.y, pa.x, pa.y);
}

function rotate(x, y, cx, cy, ang) {
    x -= cx;
    y -= cy;
    nx = cos(ang) * x - sin(ang) * y;
    ny = sin(ang) * x + cos(ang) * y;
    nx += cx;
    ny += cy;
    return new Point{x: nx, y: ny};
}
</script>

<script language='text/tonyu' type='text/tonyu' data-filename='Point.tonyu' data-lastupdate='1557221025128' >p = -1;
die();</script>

<script language='text/tonyu' type='text/tonyu' data-filename='options.json' data-lastupdate='1621513201582' >
{
    "compiler": {
        "defaultSuperClass": "Actor",
        "commentLastPos": true,
        "diagnose": false,
        "dependingProjects": [
            {
                "namespace": "kernel"
            }
        ],
        "namespace": "user"
    },
    "run": {
        "mainClass": "user.Main",
        "bootClass": "Boot",
        "globals": {
            "$defaultFPS": 60,
            "$imageSmoothingDisabled": true
        }
    },
    "kernelEditable": false,
    "version": 1550634424863,
    "plugins": {
        "jquery_ui": 1
    },
    "language": "tonyu"
}</script>

<script language='text/tonyu' type='text/tonyu' data-filename='res.json' data-lastupdate='1621513713945' >
{
    "images": [
        {
            "name": "$pat_base",
            "url": "images/base.png",
            "pwidth": 32,
            "pheight": 32
        },
        {
            "name": "$pat_sample",
            "url": "images/Sample.png"
        },
        {
            "name": "$pat_neko",
            "url": "images/neko.png",
            "pwidth": 32,
            "pheight": 32
        },
        {
            "name": "$pat_mapchip",
            "url": "images/mapchip.png",
            "pwidth": 32,
            "pheight": 32
        },
        {
            "name": "$pat_inputPad",
            "url": "images/inputPad.png"
        }
    ],
    "sounds": []
}</script>

</head><body><div id='splash' style='position:relative; height: 100%;'>
    <!--ここに，ロード中に表示する内容を記述できます。-->
    <!--You can write here what you want to show while loading. -->
    <div class='progress'>
        <!-- ここにロード中の進捗が表示されます．表示したくない場合はこのdiv要素を削除してください。 -->
        <!-- This shows progress. If you don't want to show, remove this element. -->
    </div>
    <div class='unsupported' style="display:none;">
        <!-- ここに非対応ブラウザ向けメッセージが表示されます．表示したくない場合はこのdiv要素を削除してください。 -->
        <!-- This shows message for unsupported browsers. If you don't want to show, remove this element. -->
        <p>お使いのブラウザではこのプログラムは動作しません．他のブラウザをお試しください．</p>
        <p>The program does not run in this browser. Try another browser.</p>
    </div>
</div>
<!--
Open this site when editing this game:
https://edit.tonyu.jp/index.html?importFromHTML=1
-->
</body></html>
